<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painters Near Me – Get Quotes From a Nearby Painter</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- ────────────  NAV  ──────────── -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Painters Near Me</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active"><a class="nav-link" href="#">HOME</a></li>
        <li class="nav-item"><a class="nav-link" href="#form">GET QUOTES</a></li>
        <li class="nav-item"><a class="nav-link" href="#about">ABOUT US</a></li>
      </ul>
    </div>
  </nav>

  <!-- ────────────  HERO  ──────────── -->
  <div class="hero">
    <h1>$25 – $60/hr House Painting Companies</h1>
    <p>Need a House Painter? Get obligation‑free house‑painting quotes in minutes. Save up to 40% on your job.</p>

    <div class="row mt-3" style="max-width: 700px;">
      <div class="col-md-8 pr-md-2">
        <input id="job-desc" type="text" class="form-control" placeholder="Tell us a little about your job"
          style="background: rgba(255,255,255,0.9);">
      </div>
      <div class="col-md-4 pl-md-2">
        <input id="job-suburb" type="text" class="form-control" placeholder="Postcode"
          style="background: rgba(255,255,255,0.9);">
      </div>
    </div>

    <button id="chatbot-link" class="btn btn-lg mt-3" style="background:#40BF94;color:#fff;border:none;">
      Get Quotes
    </button>

    <small>*Published price ranges are indicative only and may vary from actual quotes and other factors.</small>
  </div>

  <!-- ────────────  STATS  ──────────── -->
  <div class="stats-section text-center py-5">
    <h2>107,037 Painting Jobs Listed so Far</h2>
    <div class="stats-details mt-3">
      <p>14,207 House Painters Registered</p>
      <p>1.1 Million Quotes Compared</p>
    </div>
  </div>

  <!-- ────────────  SERVICES & FORM  ──────────── -->
  <div class="container services-section">
    <div class="row text-center">
      <div class="col-md-4 service-card">
        <img src="images/quality-job.jpg" class="service-img" alt="Quality Painting">
        <h4>QUALITY PAINTING JOBS</h4>
        <p>Our painters are ready to offer competitive quotes. Get quotes instantly.</p>
      </div>
      <div class="col-md-4 service-card">
        <img src="images/any-size.jpg" class="service-img" alt="Any Size Job">
        <h4>ANY SIZE JOB</h4>
        <p>From small apartments to large family homes, no job is too big or small.</p>
      </div>
      <div class="col-md-4 service-card">
        <img src="images/save-money.jpg" class="service-img" alt="Save Money">
        <h4>SAVE MONEY</h4>
        <p>Quotes start as low as $25/hour. Most painters charge $25–$60/hour.</p>
      </div>
    </div>

    <!-- optional long enquiry form (untouched) -->
    <div id="form" class="row mt-5">
      <div class="col-md-8">
        <form>
          <input type="text" class="form-control" placeholder="Postcode or Suburb" required>
          <div class="btn-group btn-group-toggle mb-3" data-toggle="buttons">
            <label class="btn btn-outline-secondary"><input type="radio" name="starting"> I'm flexible</label>
            <label class="btn btn-outline-secondary"><input type="radio" name="starting"> In the next few weeks</label>
            <label class="btn btn-outline-secondary"><input type="radio" name="starting"> Urgently</label>
            <label class="btn btn-outline-secondary"><input type="radio" name="starting"> Set a date</label>
          </div>
          <input type="text" class="form-control" placeholder="Best date for work">
          <textarea class="form-control" placeholder="Describe the job" rows="5" minlength="20" required></textarea>
          <input type="email" class="form-control" placeholder="Email address" required>
          <input type="text" class="form-control" placeholder="First Name" required>
          <input type="text" class="form-control" placeholder="Contact Number" required>
          <small>By pressing 'Get Started' you agree to receive quotes and marketing messages and to our
            <a href="#">Terms & Conditions</a>.</small><br>
          <button type="submit" class="btn btn-primary mt-3">Get Started</button>
        </form>
      </div>
    </div>

    <!-- ABOUT -->
    <div id="about" class="row mt-5">
      <div class="col-md-12 text-center">
        <h2>ABOUT US</h2>
        <p>We focus on customer satisfaction and helping you find the best painter for your job.</p>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- ────────────  VOICEFLOW EXTENSION + LOADER  ──────────── -->
  <script>
    /* in‑chat mini‑form */
    const FormExtension = {
      name: 'Forms',
      type: 'response',
      match: ({trace}) =>
        trace.type === 'Custom_Form' || trace.payload?.name === 'Custom_Form',

      render: ({element}) => {
        const formEl = document.createElement('form');

        formEl.innerHTML = `
      <style>
        label{font:.8em/1 Poppins;color:#888}
        input[type=text],input[type=email],input[type=tel]{
          width:100%;margin:5px 0;padding:8px 0;background:transparent;
          border:none;border-bottom:.5px solid rgba(0,0,0,.1);outline:0;
        }
        .phone{width:150px}
        @media(max-width:480px){
          input[type=text],input[type=email],input[type=tel]{
            font-size:16px!important;line-height:1.3;
          }
        }
        .invalid{border-color:red}
        .submit{
          display:inline-block;width:100%;padding:.8rem;border:none;
          background:#8DD9BF;color:#000;font:.8em/1 Poppins;border-radius:5px;
          cursor:pointer;text-align:center;
        }
        .submit:hover{background:#7CCFB2;transform:scale(1.02);transition:.2s}
      </style>

      <label>Your name</label>
      <input type="text"  class="name"   required><br><br>

      <label>Job location</label>
      <input type="text"  class="suburb" required autocomplete="address-level2"><br><br>

      <label>Your email</label>
      <input type="email" class="email"  required
             pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"><br><br>

      <label>Mobile number</label>
      <input type="tel"   class="phone"  required pattern="\\d+"><br><br>

      <input type="submit" class="submit" value="Send my details">
    `;

        /* live validation */
        formEl.addEventListener('input', () =>
          ['name', 'email', 'phone', 'suburb'].forEach(c => {
            const i = formEl.querySelector('.' + c);
            if (i.checkValidity()) i.classList.remove('invalid');
          }));

        formEl.addEventListener('submit', e => {
          e.preventDefault();
          const pick = cls => formEl.querySelector(cls);
          const [name, email, phone, suburb] =
            ['.name', '.email', '.phone', '.suburb'].map(pick);

          if (![name, email, phone, suburb].every(i => i.checkValidity())) {
            [name, email, phone, suburb].forEach(i => i.classList.add('invalid'));
            return;
          }

          formEl.style.display = 'none';
          const ack = document.createElement('div');
          ack.textContent = 'Thanks – got your details!';
          ack.style.font = '0.9em/1.3 Poppins,sans-serif';
          element.appendChild(ack);

          window.voiceflow.chat.interact({
            type: 'complete',
            payload: {
              name: name.value, email: email.value,
              phone: phone.value, suburb: suburb.value
            }
          });
        });

        element.appendChild(formEl);
      }
    };

  </script>

  <script>
    (function (d, t) {
      const v = d.createElement(t),
        s = d.getElementsByTagName(t)[0];

      v.onload = function () {
        // 1) load the chat with in-memory (fresh-on-reload) persistence
        window.voiceflow.chat.load({
          verify: {projectID: '67aaa6a9361d73c432e58ae5'},
          url: 'https://general-runtime.voiceflow.com',
          versionID: 'production',
          assistant: {
            extensions: [FormExtension],
            persistence: 'memory'
          }
        });

        // 2) once loaded, wire up your “Get Quotes” button to always reset & open
        const btn = d.getElementById('chatbot-link');
        const jobDesc = d.getElementById('job-desc');
        const jobSuburb = d.getElementById('job-suburb');

        if (btn && jobDesc && jobSuburb) {
          btn.addEventListener('click', e => {
            e.preventDefault();

            const description = jobDesc.value.trim();
            const suburb = jobSuburb.value.trim();

            if (!description || !suburb) {
              alert('Please enter both a job description and postcode.');
              return;
            }

            window.voiceflow.chat.open();
            
            // Wait for chat to be ready
            setTimeout(() => {
              window.voiceflow.chat.interact({
                type: 'text',
                payload: description
              }).then(() => {
                // Send location after initial message is confirmed sent
                return window.voiceflow.chat.interact({
                  type: 'event',
                  name: 'job_form_submitted',
                  payload: { job_location: suburb }
                });
              }).catch(err => {
                console.error('Voiceflow send error:', err);
              });
            }, 1000);
          });
        }
      };

      // bump this when you tweak your HTML/CSS so browsers pull a new copy
      v.src = 'https://cdn.voiceflow.com/widget-next/bundle.mjs?v=1.02';
      v.type = 'text/javascript';
      s.parentNode.insertBefore(v, s);
    })(document, 'script');
  </script>


</body>

</html>